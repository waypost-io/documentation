"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[141],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(h,l(l({ref:t},c),{},{components:n})):a.createElement(h,l({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9803:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return u}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),l=["components"],i={sidebar_position:3},s="Installation",p={unversionedId:"installation",id:"installation",title:"Installation",description:"There are 2 ways you can integrate Waypost into your application. The easiest way is to use Docker. For this, please follow the instructions on the Quickstart page. You also have the option to clone each component from GitHub \u2014 keep reading to learn how.",source:"@site/docs/installation.md",sourceDirName:".",slug:"/installation",permalink:"/documentation/installation",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/documentation/"},next:{title:"Managing Feature Flags",permalink:"/documentation/flag-management/managing-flags"}},c={},u=[{value:"<strong>Install the Waypost Feature Flag Manager App</strong>",id:"install-the-waypost-feature-flag-manager-app",level:2},{value:"Database Setup",id:"database-setup",level:3},{value:"Local Setup",id:"local-setup",level:3},{value:"<strong>Install the Flag Provider service</strong>",id:"install-the-flag-provider-service",level:2}],d={toc:u};function m(e){var t=e.components,n=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"installation"},"Installation"),(0,o.kt)("p",null,"There are 2 ways you can integrate Waypost into your application. The easiest way is to use Docker. For this, please follow the instructions on the ",(0,o.kt)("a",{parentName:"p",href:"/documentation/quickstart"},"Quickstart page"),". You also have the option to clone each component from GitHub \u2014 keep reading to learn how."),(0,o.kt)("h2",{id:"install-the-waypost-feature-flag-manager-app"},(0,o.kt)("strong",{parentName:"h2"},"Install the Waypost Feature Flag Manager App")),(0,o.kt)("p",null,"This contains the client, server, and PostgreSQL database."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/waypost-io/waypost.git\n")),(0,o.kt)("p",null,"Follow the instructions below, which are also available in the repo\u2019s README."),(0,o.kt)("h3",{id:"database-setup"},"Database Setup"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},'With Postgres installed, log in to the Postgres console and create a new database called "waypost".')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE DATABASE waypost;\n\\c waypost\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Run all of the queries in the ",(0,o.kt)("inlineCode",{parentName:"li"},"/server/waypost_db_setup.sql")," file to create the Waypost schema locally."),(0,o.kt)("li",{parentName:"ol"},"Make sure that the credentials in the ",(0,o.kt)("inlineCode",{parentName:"li"},".env"),' file match your Postgres login credentials (see "',(0,o.kt)("em",{parentName:"li"},"Local Setup"),'").')),(0,o.kt)("h3",{id:"local-setup"},"Local Setup"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Clone the Waypost repository.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/waypost-io/waypost.git\ncd waypost\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Install dependencies.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd client\nnpm install\ncd ../server\nnpm install\n\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Add ",(0,o.kt)("inlineCode",{parentName:"li"},".env")," file in the ",(0,o.kt)("inlineCode",{parentName:"li"},"server")," directory with the following environment variables. Make sure the URL\u2019s and ",(0,o.kt)("inlineCode",{parentName:"li"},"WEBHOOK_VALIDATOR")," are correct.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'POSTGRES_DB="waypost"\nPOSTGRES_USER=<user>\nPOSTGRES_PASSWORD=<password>\nPOSTGRES_HOST="localhost"\nPOSTGRES_PORT=5432\nWEBHOOK_VALIDATOR="secret"\nFLAG_PROVIDER_URL="http://localhost:5050"\n\n')),(0,o.kt)("p",null,"and optionally in the ",(0,o.kt)("inlineCode",{parentName:"p"},"client")," directory if you want to run tests"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'NODE_ENV="development"\n')),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Start the back-end from the ",(0,o.kt)("inlineCode",{parentName:"li"},"server")," directory.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm start\n")),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"Open a new terminal and start the front-end from the ",(0,o.kt)("inlineCode",{parentName:"li"},"client")," directory.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd ../client\nnpm start\n")),(0,o.kt)("p",null,"The client will run on port\xa0",(0,o.kt)("inlineCode",{parentName:"p"},":3000"),"\xa0and the server will run on port\xa0",(0,o.kt)("inlineCode",{parentName:"p"},":5000"),"."),(0,o.kt)("h2",{id:"install-the-flag-provider-service"},(0,o.kt)("strong",{parentName:"h2"},"Install the Flag Provider service")),(0,o.kt)("p",null,"The flag provider service is an Express app that accepts SSE connections to serve real-time feature flag updates to clients using Waypost SDKs."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Clone the flag provider repository (",(0,o.kt)("a",{parentName:"li",href:"https://github.com/waypost-io/waypost-flag-provider"},"https://github.com/waypost-io/waypost-flag-provider"),")")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/waypost-io/waypost-flag-provider.git\ncd waypost-flag-provider\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Install dependencies")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Add a ",(0,o.kt)("inlineCode",{parentName:"li"},".env")," file to the root directory with the environment variables ",(0,o.kt)("inlineCode",{parentName:"li"},"WEBHOOK_VALIDATOR")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"FEATURE_FLAG_MANAGER_URL"),". Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'WEBHOOK_VALIDATOR="secret"\nFEATURE_FLAG_MANAGER_URL="http://localhost:5000"\n')),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Start the application")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm start\n")),(0,o.kt)("p",null,"The flag provider app will run on port\xa0",(0,o.kt)("inlineCode",{parentName:"p"},":5050"),"."),(0,o.kt)("p",null,"Note: For the Flag Provider to function properly, it should be deployed and connected with a running Waypost feature flag management app."))}m.isMDXComponent=!0}}]);